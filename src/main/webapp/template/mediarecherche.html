<!-- BARRE DE RECHERCHE + BOUTTON AJOUT MEDIA -->
<div 
	class="section">
	<div 
		class="container">
		<div 
			class="row well">
			<div>
				<div 
					class="col-md-4 ">
					<input 
						class="form-control"
						type="text" 							
						id="inputRechercheBase"
						placeholder="Cherchez des titres, auteurs ou autre chose"
						ng-model="modelRechercheBase.tout">
				</div>
				<div 
					class="col-md-3">
					<button 
						class="btn btn-default" 
						id="buttonRechercheBase"
						ng-click="filterRechercheBase = modelRechercheBase.tout">
						<i 
							class="fa fa-search" 
							aria-hidden="true">
						</i>
					</button>
					<button 
						class="btn btn-link" 
						id="buttonModeRechercheAvanceeOn"										
						ng-show="modeRechercheAvancee===false"
						ng-click="modeRechercheAvancee=true">
						Recherche avanc&eacute;e</a>
					</button>
				</div>
			</div>
<!-- FIN DE LA RECHERCHE - DEBUT BOUTON AJOUT MEDIA  -->
			<div>	
				<a 
					class="btn btn-primary pull-right"
					href="#/mediacreation">
					<i 
						class="fa fa-fw -square -circle fa-plus-square">
					</i>
					Ajouter nouveau m&eacute;dia
				</a>                   	
			</div>
		</div>
	</div>
</div>
<!-- FIN DE LA BARRE -->

<!-- TABLEAU DE DONNEES -->
<div 
	class="row">
	<div 
		class="table-responsive col-md-8 col-md-offset-2">
		<table 
			class="table table-striped table-bordered table-hover table-sortable text-center">
<!--TITRE DES COLONNES + BOUTONS DE TRI -->
			<thead>
				<tr>
					<th 
						class="colonneVue">
						Aller &agrave;
					</th>
					<th 
						class="colonneTitre">
						<select 								
							id="filtreType"
							ng-model="filtreBy.type">
							<option value="">Tous</option>
							<option>Livre</option>
							<option>CD</option>
							<option>DVD</option>
						</select>
						Titre
						<button 
							class="btn btn-default btn-xs" 
							id="buttonSortTitre"
							onclick="">
							<i 
								class="fa fa-sort" 
								aria-hidden="true">
							</i>
						</button>
					</th>
					<th 
						class="colonneAuteur">
						Auteur
						<button class="btn btn-default btn-xs" 
							id="buttonSortAuteur"
							onclick="">
							<i 
								class="fa fa-sort" 
								aria-hidden="true">
							</i>
						</button>
					</th>
					<th 
						class="colonneType">
						Type : 
							<select 								
								id="filtreType"
								ng-model="filtreBy.type">
								<option value="">Tous</option>
								<option>Livre</option>
								<option>CD</option>
								<option>DVD</option>
							</select>
					</th>
					<th 
						class="colonneEtat">
						&Eacute;tat
						<select							
							id="filtreEtat"
							ng-model="filtreBy.etat">
							<option value="">Tous</option>
							<option value="PRETE">
								Emprunt&eacute;
							</option>
							<option value="LIBRE">
								En rayon
							</option>
						</select>
					</th>
					<th 
						class="colonneNomEmprunteur">
						Emprunt&eacute; par
						<button 
							class="btn btn-default btn-xs"
							id="buttonSortNomEmprunteur" 
							onclick="">
							<i 
								class="fa fa-sort" 
								aria-hidden="true">
							</i>
						</button>
					</th>
					<th 
						class="colonneDateRetour">
						Retour le
						<button 
							class="btn btn-default btn-xs" 
							id="buttonSortDateRetour"
							onclick="">
							<i 
								class="fa fa-sort" 
								aria-hidden="true">
							</i>
						</button>
					</th>
				</tr>
				<!-- FIN DES TITRES -->
				<!-- BARRE DE RECHERCHE AVANCEE -->
				<tr 
					class="rowRechercheAvancee" 
					ng-show="modeRechercheAvancee==true">
						<th></th>
						<th>
							<input 
								class="form-control"
								type="text" 								 
								id="inputRechercheTitre"
								placeholder="Titre"
								ng-model="modelRechercheAvancee.titre">
						</th>
						<th>
							<input 
								class="form-control"
								type="text" 								 
								id="inputRechercheAuteur"
								placeholder="Auteur"
								ng-model="modelRechercheAvancee.auteur">
						</th>
						<th>
<!-- 							<select  -->
<!-- 								class="form-control" -->
<!-- 								id="inputRechercheType" -->
<!-- 								ng-model="modelRechercheAvancee.type"> -->
<!-- 								<option>Tous</option> -->
<!-- 								<option>Livre</option> -->
<!-- 								<option>CD</option> -->
<!-- 								<option>DVD</option> -->
<!-- 							</select> -->
						</th>
						<th>
<!-- 							<select  -->
<!-- 								class="form-control" -->
<!-- 								id="inputRechercheEtat" -->
<!-- 								ng-model="modelRechercheAvancee.etat"> -->
<!-- 								<option>Emprunt&eacute;</option> -->
<!-- 								<option>En rayon</option> -->
<!-- 							</select> -->
						</th>
						<th>
							<input
								class="form-control"
								type="text" 								
								id="inputRechercheNomEmprunteur"
								placeholder="Emprunt&eacute; par"
								ng-model="modelRechercheAvancee.emprunteur.nom">
						</th>
						<th>
							<datepicker	
								date-set-hidden="true"
      							date-format="y-MM-dd"      							
							    date-typer="true"
							    button-prev='<i class="fa fa-arrow-circle-left"></i>'
								button-next='<i class="fa fa-arrow-circle-right"></i>'>
  								<input  
  									class="form-control" 									 
  									type="text"
  									id="inputRechercheDate"
  									ng-model="modelRechercheAvancee.date"/>
							</datepicker>
						</th>
						<th>
							<button 
								class="btn btn-default"
								id="buttonRechercheAvancee"
								ng-click="lancerRechercheAvancee()">
								<i 
									class="fa fa-search" 
									aria-hidden="true">
								</i>
							</button>
						</th>
						<th>
							<button
								class="btn btn-default"
								id="buttonModeRechercheAvanceeOff"														
								ng-click="modeRechercheAvancee=false">
								<i 
									class="fa fa-window-minimize" 
									aria-hidden="true">
								</i>
							</button>
						</th>
				</tr>
			</thead>
			<!-- FIN DE LA BARRE DE RECHERCHE AVANCEE -->
			<tbody>
<!-- 				<tr  -->
<!-- 					dir-paginate="media in listeMedia | -->
<!--  								filter: filterRechercheBase | -->
<!--  								filter:{titre:modelRechercheAvancee.titre} | -->
<!--  								filter:{auteur:modelRechercheAvancee.auteur} | -->
<!--  								filter:{type:modelRechercheAvancee.type} | -->
<!--  								filter:{etat:modelRechercheAvancee.etat} | -->
<!-- 								filter:{emprunteur:{nom:modelRechercheAvancee.emprunteur}} | -->
<!-- 								itemsPerPage: 10" >  -->
								
								
								 
<!-- 							filter:{'titre': recherche.titremedia,  -->
<!-- 												'auteur': recherche.auteuremedia, -->
<!-- 												'emprunteur' : recherche.emprunteurmedia} | -->

<!-- 												'auteur': modelRechercheAvancee.typemedia -->
<!-- 												'auteur': modelRechercheAvancee.etatmedia -->
<!-- 												'auteur': modelRechercheAvancee.emprunteurmedia  -->
<!-- 												'auteur': modelRechercheAvancee.datemedia -->


<tr
						dir-paginate="media in listeMedia |	
										filter: {type:filtreBy.type} |
										filter: {etat:filtreBy.etat} |
 										filter: filterRechercheBase |
 										filter: filterRechercheAvancee |			
 										itemsPerPage: 10" > 	 
			
<!-- dir-paginate= remplace le data-ng-repeat pour avoir la version paginée -->
<!-- exemple : <tr data-ng-repeat="media in listeMedia | filter:{title:recherche.titremedia}"> -->			

					<td>
						<a 
							class="btn"
							href="#/mediavisualisation/{{media.id}}">
							<i 
								class="fa fa-eye" 
								aria-hidden="true">
							</i>
						</a>
					</td>
					<td> 
						<span 						 
							ng-if="media.type==='Livre'">
							<i 
								class="fa fa-book" 
								aria-hidden="true">
							</i>
						</span>
							<span 						 
							ng-if="media.type==='CD'">
							<i 
								class="fa fa-music" 
								aria-hidden="true">
							</i>
						</span>
							<span 						 
							ng-if="media.type==='DVD'">
							<i 
								class="fa fa-film" 
								aria-hidden="true">
							</i>
						</span>	
						<span 
							ng-bind="media.titre">
						</span>
					</td>
					<td> 
						<span 
							ng-bind="media.auteur">
						</span>
					</td>
					<td>
						<span 						 
							ng-if="media.type==='Livre'">
							<i 
								class="fa fa-book" 
								aria-hidden="true">
							</i>
						</span>
							<span 						 
							ng-if="media.type==='CD'">
							<i 
								class="fa fa-music" 
								aria-hidden="true">
							</i>
						</span>
							<span 						 
							ng-if="media.type==='DVD'">
							<i 
								class="fa fa-film" 
								aria-hidden="true">
							</i>
						</span>						
					</td>				
<!-- Utilisation de ng-if-start et -end pour délimiter un bloc complet soumis à la condition : en l'espèce : que le média est emprunté -->
					<td 
						ng-if-start="media.emprunteur!==undefined">
						<i 
							class="fa fa-ban text-danger" 
							aria-hidden="true">
						</i>
					</td>					
					<td>
						<a 
							class="btn"
							href="#/adherentvisualisation/{{media.emprunteur.id}}">
							<i 
								class="fa fa-user-circle" 
								aria-hidden="true">
							</i>
						</a>
						<span 
							ng-bind="media.emprunteur.nom">
						</span>
					</td>
					<td
						ng-if-end>
						<span 
							ng-bind="media.retour">
						</span>	
					</td>
<!-- idem quand le média est libre -->
					<td 
						ng-if-start="media.emprunteur===undefined">		
						<i 
							class="fa fa-check text-success" 
							aria-hidden="true">
						</i>						
					</td>
					<td></td>
					<td ng-if-end></td>												
				</tr>		
			</tbody>
					
			<tfoot>
			</tfoot>
			
		</table>
		
		<div 
			class="panel-footer">
			<div 
				class="row">
				<dir-pagination-controls 
					class="pull-right">
				</dir-pagination-controls>
			</div>
		</div>
		
	</div>
</div>
